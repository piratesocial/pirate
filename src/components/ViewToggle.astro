---
---

<div class="view-toggle">
  <button
    id="grid-view"
    class="view-toggle-btn active"
    aria-label="Switch to grid view"
  >
    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
      <rect x="3" y="3" width="7" height="7"></rect>
      <rect x="14" y="3" width="7" height="7"></rect>
      <rect x="3" y="14" width="7" height="7"></rect>
      <rect x="14" y="14" width="7" height="7"></rect>
    </svg>
  </button>
  <button
    id="swipe-view"
    class="view-toggle-btn"
    aria-label="Switch to swipe view"
  >
    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
      <rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect>
      <line x1="9" y1="3" x2="9" y2="21"></line>
    </svg>
  </button>
</div>

<script>
  const gridBtn = document.getElementById('grid-view');
  const swipeBtn = document.getElementById('swipe-view');
  const postList = document.querySelector('.post-list');
  
  // Get the saved view preference or default to 'grid'
  const currentView = localStorage.getItem('blogView') || 'grid';
  
  // Initialize view
  setView(currentView);
  
  function setView(view: string) {
    // Update buttons
    gridBtn?.classList.toggle('active', view === 'grid');
    swipeBtn?.classList.toggle('active', view === 'swipe');
    
    // Update post list
    postList?.classList.toggle('grid-view', view === 'grid');
    postList?.classList.toggle('swipe-view', view === 'swipe');
    
    // Save preference
    localStorage.setItem('blogView', view);
  }
  
  gridBtn?.addEventListener('click', () => setView('grid'));
  swipeBtn?.addEventListener('click', () => setView('swipe'));
</script>

<style>
  .view-toggle {
    display: flex;
    gap: 0.5rem;
    margin-bottom: 2rem;
    justify-content: flex-end;
  }

  .view-toggle-btn {
    background: transparent;
    border: 2px solid rgb(var(--gray-light));
    border-radius: 8px;
    padding: 0.5rem;
    cursor: pointer;
    transition: all 0.2s ease;
    color: rgb(var(--gray));
  }

  .view-toggle-btn:hover {
    border-color: var(--accent);
    color: var(--accent);
  }

  .view-toggle-btn.active {
    background: var(--accent);
    border-color: var(--accent);
    color: white;
  }
</style>